import CreatePreview from './assets/create-preview.jpg';

# Preview Projects

**Preview projects** are temporary Lightdash projects where you can safely experiment with your metrics, dimensions and charts without affecting your production project. 

Preview projects are commonly used to:
- test changes in models, metrics and dimensions.
- make changes to important content in production without any downtime by [promoting the content](/guides/how-to-promote-content) you've changed in your preview project when it's ready.

<a href="https://www.loom.com/share/fddc9adab0694f60a85d0a48d67469be">
  <img src="https://cdn.loom.com/sessions/thumbnails/fddc9adab0694f60a85d0a48d67469be-with-play.gif" />
</a>

## Creating a preview project

::: info

Only users who have developer permissions or above in a project can create preview projects.

:::

### Lighdash CLI tool (local)

You can use the [Lightdash CLI tool](/guides/cli/how-to-install-the-lightdash-cli) to generate preview projects in Lightdash from your command line. 

```shell
# This will create a preview and will wait until you press a key to delete the preview project
lightdash preview
```

or

```shell
# This will create a preview and exit, you will have to run lightdash stop-preview to delete it
lightdash start-preview
```

You can see more information about the [`lightdash preview` CLI command here](/references/lightdash-cli#lightdash-preview).

### Lightdash app

You can create a preview project in the Lightdash web app by clicking on the projects list, then clicking `+ Create Preview`. 

<img
  src={CreatePreview}
  width="652"
  height="751"
  style={{ display: 'block', margin: '0 auto 20px auto' }}
/>

### Pull Requests (GitHub Actions)

You can automatically create preview projects in GitHub each time you open a pull request. This allows you to easily test out changes you've made in dbt, in Lightdash. 

Learn more about setting up a Lightdash preview project for pull requests using GitHub Actions [here](/guides/cli/how-to-use-lightdash-preview#set-up-developer-previews-on-your-pull-requests).

## Permissions

### Permissions are copied from the parent project

All permissions from the parent project are carried over to the preview project.

For example, there is a project called `Marketing Insights` and Priyanka is a project interactive viewer in it. Irakli is a developer and creates a preview project of `Marketing Insights` called `Marketing Insights Preview`. Irakli creates a chart in `Marketing Insights Preview` and shares it with Priyanka. She can open the chart because she was an interactive viewer in `Marketing Insights`, so her permissions were copied over to `Marketing Insights Preview`. 

::: info

Only users who are developers or admins can see preview projects in the project list. However, users with access to a preview project can open links shared with them from the preview project.

:::

### Only content a user has access to will be copied to the preview project

For the user creating a project, only content they have access to will be copied over to the preview project.

For example, there is a project called `Marketing Insights` and there is a space called `Finance private space`. Irakli is a developer in `Marketing Insights`, but doesn't have access to `Finance private space`. If Irakli creates a preview project of `Marketing Insights`, then the content in `Finance private space` will not be copied over to his preview project (because he doesn't have access to it). 

## Project connection settings 

The project connection settings cannot be changed in a preview project.

### Lightdash CLI tool (local)

For preview projects created from the CLI, all project connection settings come from your **local** `profiles.yml` file. 

That means that we will use the same default connection settings that you're using locally for development, unless you specify different options in your CLI commands. 

For example:
- By default, `lightdash preview` will use the `profiles.yml` file located at `~/.dbt/profiles.yml`. If you want to use a different `profiles.yml` file, you can specify this using the option `lightdash preview --profiles-dir path/to/directory`.  
- `lightdash preview` will use whatever default target that is set in your `profiles.yml` file. The database connection settings (schema, project, dataset, etc.) from this target will be used as the database connection settings for your preview project. You can override the target used to create your preview project using the flag `lightdash preview --target my-target-name`  

### Lightdash app

For preview projects created in the Lightdash app, all project connection settings are copied directly from the project the preview is built from. 

For example, if I have a project called `Lightdash Analytics` and I create a preview project from it called `Preview Lightdash Analytics`, then `Preview Lightdash Analytics` will have the same project connection settings (warehouse connection, dbt project connection, etc.) as `Lightdash Analytics`.

### Pull requests (GitHub actions) 

