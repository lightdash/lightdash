### Login
// @no-log
POST http://localhost:8080/api/v1/login
Content-Type: application/json

{
    "email": "demo@lightdash.com",
    "password": "demo_password!"
}

### =============================================================================
### AI AGENTS
### =============================================================================

### List all AI Agents
GET http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents
Content-Type: application/json

### Get specific AI Agent
GET http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents/AGENT_UUID
Content-Type: application/json

### Create AI Agent
POST http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents
Content-Type: application/json

{
    "name": "My Analytics Assistant",
    "projectUuid": PROJECT_UUID,
    "instruction": "You are a helpful analytics assistant that helps users understand their data and create meaningful insights.",
    "integrations": [
        {
            "type": "slack",
            "channelId": "CHANNEL_ID"
        }
    ],
    "tags": ["analytics", "assistant", "data"]
}

### Update AI Agent
PATCH http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents/AI_AGENT_UUID
Content-Type: application/json

{
    "uuid": "AI_AGENT_UUID",
    "name": "Updated Analytics Assistant",
    "instruction": "You are an advanced analytics assistant specialized in business intelligence and data visualization.",
    "tags": ["analytics", "bi", "advanced"]
}

### Delete AI Agent
DELETE http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents/AI_AGENT_UUID
Content-Type: application/json

### =============================================================================
### AI AGENT THREADS
### =============================================================================

### List Agent Threads
GET http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents/AI_AGENT_UUID/threads
Content-Type: application/json

### Get specific Agent Thread
GET http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents/AI_AGENT_UUID/threads/THREAD_UUID
Content-Type: application/json

### Start new Agent Thread (create thread with first message)
POST http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents/AI_AGENT_UUID/generate
Content-Type: application/json

{
    "prompt": "Can you help me analyze the sales data for the last quarter?"
}

### Generate response in existing Agent Thread
POST http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents/AI_AGENT_UUID/threads/THREAD_UUID/generate
Content-Type: application/json

{
    "prompt": "Can you create a chart showing the trend over time?"
}

### Get Agent Thread Message Visualization
GET http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents/AI_AGENT_UUID/threads/THREAD_UUID/message/MESSAGE_UUID/viz
Content-Type: application/json

### Get Artifact
GET http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents/AI_AGENT_UUID/artifacts/ARTIFACT_UUID
Content-Type: application/json


### Get Artifact Version
GET http://localhost:8080/api/v1/projects/PROJECT_UUID/aiAgents/AI_AGENT_UUID/artifacts/ARTIFACT_UUID/versions/VERSION_UUID
Content-Type: application/json


### =============================================================================
### AI AGENT ADMIN 
### =============================================================================

### Get all threads across all agents (Admin only) 
GET http://localhost:8080/api/v1/aiAgents/admin/threads
Content-Type: application/json

### Paginated threads
GET http://localhost:8080/api/v1/aiAgents/admin/threads?page=1&pageSize=25
Content-Type: application/json

### =============================================================================
### FILTERING - Find threads for training loop analysis
### =============================================================================

### Filter by project UUIDs (analyze specific projects)
GET http://localhost:8080/api/v1/aiAgents/admin/threads?projectUuids=PROJECT_UUID_1&projectUuids=PROJECT_UUID_2
Content-Type: application/json

### Filter by agent UUIDs (analyze specific agents)
GET http://localhost:8080/api/v1/aiAgents/admin/threads?agentUuids=AGENT_UUID_1&agentUuids=AGENT_UUID_2
Content-Type: application/json

### Filter by specific user UUIDs
GET http://localhost:8080/api/v1/aiAgents/admin/threads?userUuids=USER_UUID_1&userUuids=USER_UUID_2
Content-Type: application/json

### Filter by conversation source (Slack vs Web App)
GET http://localhost:8080/api/v1/aiAgents/admin/threads?createdFrom=slack
Content-Type: application/json

### Filter by conversation source (Slack vs Web App)
GET http://localhost:8080/api/v1/aiAgents/admin/threads?createdFrom=web_app
Content-Type: application/json


### =============================================================================
### HUMAN FEEDBACK FILTERING - Training Loop Analysis
### =============================================================================

### Find all thumbs down responses (negative feedback)
GET http://localhost:8080/api/v1/aiAgents/admin/threads?humanScore=-1
Content-Type: application/json

### Find all thumbs up responses (positive feedback)
GET http://localhost:8080/api/v1/aiAgents/admin/threads?humanScore=1
Content-Type: application/json

### Find neutral responses (no voting)
GET http://localhost:8080/api/v1/aiAgents/admin/threads?humanScore=0
Content-Type: application/json

### =============================================================================
### DATE FILTERING - Temporal Analysis
### =============================================================================

### Conversations from specific date range
GET http://localhost:8080/api/v1/aiAgents/admin/threads?dateFrom=2025-09-01&dateTo=2025-09-02
Content-Type: application/json

### =============================================================================
### SORTING - Organize data for analysis
### =============================================================================

### Sort by creation date (newest first) - Default
GET http://localhost:8080/api/v1/aiAgents/admin/threads?sortField=createdAt&sortDirection=desc
Content-Type: application/json

### Sort by title (alphabetical)
GET http://localhost:8080/api/v1/aiAgents/admin/threads?sortField=title&sortDirection=asc
Content-Type: application/json

