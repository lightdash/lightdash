version: 2

seeds:
  - name: raw_events
    config:
      column_types:
        timestamp_tz: "{{ 'timestamp_tz' if target.type == 'snowflake' else ('timestamptz' if target.type == 'duckdb' else 'timestamp') }}"
        timestamp_ltz: "{{ 'timestamp_ltz' if target.type == 'snowflake' else ('timestamptz' if target.type == 'duckdb' else 'timestamp') }}"
        timestamp_ntz: "{{ 'timestamp_ntz' if target.type == 'snowflake' else ('timestamptz' if target.type == 'duckdb' else 'timestamp') }}"
  - name: raw_generated
    config:
      column_types:
        autoincrement2: integer
        date: date
        date1: date
        date2: date
        date3: date
        date4: date
        date5: date
        date6: date
        date7: date
        date8: date
        date9: date
        date10: date
        date11: date
        foreign_key: integer
        numberrange: integer
        numberrange1: integer
        numberrange2: integer
        numberrange3: integer
        numberrange4: integer
        numberrange5: integer
        numberrange6: integer
        numberrange7: integer
        numberrange8: integer
        numberrange9: integer
        numberrange10: integer
        numberrange11: integer
        numberrange12: integer
        numberrange13: integer
        numberrange14: integer
        numberrange15: integer
        primary_key: integer
        currency: "{{ 'varchar' if target.type == 'duckdb' else 'double' }}"
        # Athena's Hive metastore doesn't support TIME type; DuckDB can't auto-parse "7:01 AM" format
        time: "{{ 'varchar' if target.type in ['athena', 'duckdb'] else 'time' }}"
  - name: raw_subscriptions
    config:
      column_types:
        id: integer
        customer_id: integer
        plan_id: integer
        start_date: timestamp
        end_date: timestamp
        active: boolean
  - name: raw_product_events
    config:
      column_types:
        event_id: integer
        user_id: integer
        event_timestamp: timestamp
        event_properties: "{{ 'variant' if target.type == 'snowflake' else ('varchar' if target.type in ['athena', 'trino', 'duckdb'] else 'jsonb') }}"
  - name: raw_plan
    config:
      column_types:
        metadata: "{{ 'variant' if target.type == 'snowflake' else ('varchar' if target.type in ['athena', 'trino', 'duckdb'] else 'jsonb') }}"
  - name: raw_buildings
    config:
      column_types:
        # DuckDB sniffs integer columns as BIGINT; force bigint to avoid type mismatch
        building_id: bigint
        address_zip: varchar
        construction_year: bigint
        last_renovation_year: bigint
        building_age_years: bigint
        total_square_feet: bigint
        rentable_square_feet: bigint
        usable_square_feet: bigint
        common_area_square_feet: bigint
        number_of_floors: bigint
        basement_levels: bigint
        roof_age_years: bigint
        parking_spaces: bigint
        parking_revenue_monthly: bigint
        total_units: bigint
        occupied_units: bigint
        vacant_units: bigint
        number_of_tenants: bigint
        largest_tenant_sqft: bigint
        building_value: bigint
        assessed_value: bigint
        property_tax_annual: bigint
        insurance_premium_annual: bigint
        utility_cost_monthly: bigint
        maintenance_cost_monthly: bigint
        janitorial_cost_monthly: bigint
        security_cost_monthly: bigint
        landscaping_cost_monthly: bigint
        total_operating_cost_monthly: bigint
        revenue_monthly: bigint
        net_operating_income_monthly: bigint
        energy_star_score: bigint
        walkability_score: bigint
        transit_score: bigint
        bike_score: bigint
        hvac_system_age: bigint
        hvac_capacity_tons: bigint
        electrical_capacity_amps: bigint
        generator_capacity_kw: bigint
        elevator_count: bigint
        cctv_camera_count: bigint
        bandwidth_mbps: bigint
        average_water_usage_gallons: bigint
        average_electricity_kwh: bigint
        average_gas_therms: bigint
        solar_capacity_kw: bigint
        ev_charging_stations: bigint
        bike_storage_capacity: bigint
        building_code_violations: bigint
        code_violations_resolved: bigint
        insurance_claims_5yr: bigint
        total_work_orders_ytd: bigint
        open_work_orders: bigint
        sprinkler_coverage: varchar
  - name: raw_orders
    config:
      column_types:
        shipping_cost: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        tax_rate: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
  - name: raw_health_visits
    config:
      column_types:
        visit_cost: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
  - name: raw_parts
    config:
      column_types:
        unit_cost: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        retail_price: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        markup_percent: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        average_monthly_usage: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        weight_lbs: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        import_duty_percent: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        total_value_in_stock: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        inventory_turnover_ratio: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        carrying_cost_annual: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        storage_cost_monthly: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        insurance_value: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        shrinkage_rate_percent: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        damage_rate_percent: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        failure_rate_percent: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        return_rate_percent: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        customer_rating: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        supplier_rating: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        supplier_lead_time_reliability: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
  - name: raw_technicians
    config:
      column_types:
        base_salary: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        hourly_rate: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        overtime_rate: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        current_location_lat: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        current_location_lon: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        average_rating: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        average_resolution_time_hours: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        first_time_fix_rate: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        customer_satisfaction_score: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        utilization_rate: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        billable_hours_ytd: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        non_billable_hours_ytd: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        overtime_hours_ytd: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
  - name: raw_work_orders
    config:
      column_types:
        labor_hours: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        labor_cost: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        materials_cost: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        total_cost: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        resolution_time_hours: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        sla_resolution_target_hours: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
        discount_percent: "{{ 'double' if target.type in ['athena', 'trino'] else 'numeric' }}"
